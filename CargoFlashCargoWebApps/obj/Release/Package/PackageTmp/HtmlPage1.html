<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="Styles/Application.css" rel="stylesheet" type="text/css" />
    <link href="Styles/Site.css" rel="stylesheet" type="text/css" />
    <link type="text/css" rel="stylesheet" href="Styles/Grid/kendo.common.min.css" />
    <link type="text/css" rel="stylesheet" href="Styles/grid/kendo.silver.min.css" />
    <link type="text/css" rel="stylesheet" href="Styles/validator.theme.red.css" />
    <link href="Styles/CfiMessage.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="Styles/CfiMessageResponsive.css" />
    <link type="text/css" rel="stylesheet" href="Styles/jquery-ui/jquery-ui-1.10.2.custom.css" />
    <link type="text/css" rel="stylesheet" href="Styles/jquery.appendGrid-1.3.2.css" />
    <script src="Scriptss/jquery-1.7.2.js" type="text/javascript"></script>
    <script src="Scriptss/Kendo/kendo.web.js" type="text/javascript"></script>
    <script src="Scriptss/shortcut.js?1.1.2" type="text/javascript"></script>
    <script src="Scriptss/common.js" type="text/javascript"></script>
    <script src="Scriptss/Manage/Permission.js" type="text/javascript"></script>
    <script src="Scriptss/Manage/manage-permission.js" type="text/javascript"></script>
    <script src="Scriptss/CfiMessage.js" type="text/javascript"></script>
    <script type="text/javascript" src="Scriptss/jquery-ui-1.10.2.custom.min.js"></script>
    <script type="text/javascript" src="Scriptss/jquery.appendGrid-1.3.2.js"></script>
    <style type="text/css">
        div.k-window {
            left: 150px !important;
        }

        .k-grid-header .k-header:first-child, .k-grid tbody td:first-child, .k-grid tfoot td:first-child {
            border-left-width: 0px !important;
        }
    </style>

</head>
<body>
    <table class='WebFormTable2'>
        <tr><td class='formSection' colspan='2'>Permission Management</td></tr>
        <tr><td colspan='2' class='formActiontitle Background'>Group: ADMIN</td></tr>
        <tr><td colspan='2' class='formbuttonrow'><button type="submit" value="Submit" onclick="return SaveForm('form1','json','');" class="button">Save</button><a href='Users.aspx?Module=Users&Apps=Groups&FormAction=INDEXVIEW' class='buttonlink'>Back<a /></td></tr>
        <tr>
            <td colspan='2'>
                <div id="e3b55dd3-9f16-49ce-8a62-08291df846d1"></div>
                <script type="text/javascript">
                    $(document).ready(function () {
                        $("#e3b55dd3-9f16-49ce-8a62-08291df846d1").kendoGrid({
                            dataSource: { type: "json", serverPaging: true, serverSorting: true, serverFiltering: true, allowUnsort: true, pageSize: 10, transport: { read: { url: "Services/Permissions/PagesService.svc/GetGridData", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", data: { CitySNo: "" } }, parameterMap: function (options) { if (options.filter == undefined) options.filter = null; if (options.sort == undefined) options.sort = null; return JSON.stringify(options); } }, schema: { model: { id: "SNo", fields: { UserName: { type: "string" }, EMailID: { type: "string" }, CityName: { type: "string" }, Active: { type: "string" } } }, data: "Data", total: "Total" } }, scrollable: true, sortable: true, filterable: true, pageable: true, columnMenu: true, columns: [{ template: ' <a class="actionButton2 actionEdit" href="Users.aspx?Module=Users&Apps=UserGroup&FormAction=INDEXVIEW&RecID=#=SNo#&UserSNo=#=SNo#">Edit</a>', title: "Action", width: "80px", filterable: false, sortable: false }, {
                                field: "UserName",
                                title: "User Name",
                                sortable: true,
                                celleditable: false,
                                defaulteditable: false,
                                filterable: true
                            }, {
                                field: "EMailID",
                                title: "Email Address",
                                sortable: true,
                                celleditable: false,
                                defaulteditable: false,
                                filterable: true
                            }, {
                                field: "CityName",
                                title: "City",
                                sortable: true,
                                celleditable: false,
                                defaulteditable: false,
                                filterable: true
                            }, {
                                field: "Active",
                                title: "Active",
                                sortable: true,
                                celleditable: false,
                                defaulteditable: false,
                                filterable: true
                            }]
                        });
                    }); </script>
                <!--<div id="a7ddda11-4a9e-4878-97cb-6dc9b2f7ff51"></div>
                <script type="text/javascript">
                    $(document).ready(function () {
                        $("#a7ddda11-4a9e-4878-97cb-6dc9b2f7ff51").kendoGrid({
                            dataSource: { type: "json", batch: "true", serverPaging: true, serverSorting: true, serverFiltering: true, allowUnsort: true, pageSize: 1000, transport: { read: { url: "Services/Permissions/PagesService.svc/GetGridData", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", data: {} }, parameterMap: function (options, operation) { if (operation !== "read" && options.models) { return { models: kendo.stringify(options.models) }; } else { return JSON.stringify(options); } } }, schema: { model: { id: "SNo", fields: { PageName: { type: "string" }, IsActive: { type: "boolean" } } }, data: "Data", total: "Total" } }, scrollable: true, sortable: true, filterable: true, editable: true, detailInit: detailInit, columnMenu: true, selectable: 'row', columnMenu: { columns: true }, columns: [{ template: '', title: "", width: ".01px", filterable: false, sortable: false }, {
                                field: "PageName",
                                title: "Module Name",
                                sortable: true,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: true,
                                groupable: true
                            }, {
                                field: "IsActive",
                                title: "All Permission",
                                template: '<input id="IsActive" type="checkbox" # if(IsFound){ # checked #} # onclick="return CheckAllDocument(this);" onchange="return CheckAllDocument(this);" class="checkbox1"/><input type="hidden" id="IsActive_previous" name="IsActive_previous" value="#= IsFound #" /><input type="hidden" name="SNo" value="#= SNo #" /><input type="hidden" id="IsChildOpen" name="IsChildOpen" value="false" />',
                                sortable: true,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: true,
                                groupable: true
                            }], editable: "popup"
                        });
                    });



                    function detailInit(e) {
                        $('<div/>').appendTo(e.detailCell).kendoGrid({
                            dataSource: { type: "json", serverPaging: true, serverSorting: false, serverFiltering: false, filter: { field: "MenuSNo", operator: "eq", value: e.data.SNo }, allowUnsort: false, pageSize: 1000, transport: { read: { url: "Services/Permissions/PageRightsService.svc/GetChildGridData", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", data: {} }, parameterMap: function (options) { if (options.filter == undefined) options.filter = null; if (options.sort == undefined) options.sort = null; return JSON.stringify(options); } }, schema: { model: { id: "MenuSNo", fields: { PageName: { type: "string" }, Create: { type: "boolean" }, Edit: { type: "boolean" }, Delete: { type: "boolean" }, Read: { type: "boolean" } } }, data: "Data", total: "Total" } }, scrollable: true, pageable: false, columns: [{ template: ' <input type="checkbox" id="NestedRead" name="NestedRead" data-type="boolean" onclick="return CheckPermission(this);" onchange="return CheckPermission(this);" class="checkbox"/>', title: "<div><input type='checkbox' id='NestedAll' name='NestedAll' onclick='return NestedCheckAll(this);' onchange='return NestedCheckAll(this);' class='checkbox'/></div>", width: "50px", filterable: false, sortable: false }, {
                                field: "PageName",
                                title: "Page Name",
                                sortable: false,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: false,
                                groupable: true
                            }, {
                                field: "Create",
                                title: "<div><input type='checkbox' id='chkidCreate' name='chkidCreate' onclick='return CreateCheckAll(this);' onchange='return CreateCheckAll(this);'/>Create</div>",
                                template: '<input id="chkCreate" class="checkbox" type="checkbox" # if(GroupCreate){ # checked #} #></input><input type="hidden" name="SNo1" value="#= SNo1 #" /><input type="hidden" id="chkCreate_previous" value="#= GroupCreate #" />',
                                sortable: false,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: false,
                                groupable: true
                            }, {
                                field: "Edit",
                                title: "<div><input type='checkbox' id='chkidEdit' name='chkidEdit' onclick='return CreateCheckAll(this);' onchange='return CreateCheckAll(this);'/>Edit</div>",
                                template: '<input id="chkEdit" class="checkbox" type="checkbox" # if(GroupEdit){ # checked #} #></input><input type="hidden" name="SNo2" value="#= SNo2 #" /><input type="hidden" id="chkEdit_previous" value="#= GroupEdit #" />',
                                sortable: false,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: false,
                                groupable: true
                            }, {
                                field: "Delete",
                                title: "<div><input type='checkbox' id='chkidDelete' name='chkidDelete' onclick='return CreateCheckAll(this);' onchange='return CreateCheckAll(this);'/>Delete</div>",
                                template: '<input id="chkDelete" class="checkbox" type="checkbox" # if(GroupDelete){ # checked #} #></input><input type="hidden" name="SNo3" value="#= SNo3 #" /><input type="hidden" id="chkDelete_previous" value="#= GroupDelete #" />',
                                sortable: false,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: false,
                                groupable: true
                            }, {
                                field: "Read",
                                title: "<div><input type='checkbox' id='chkidRead' name='chkidRead' onclick='return CreateCheckAll(this);' onchange='return CreateCheckAll(this);'/>Read</div>",
                                template: '<input id="chkRead" class="checkbox" type="checkbox" # if( Read == true) { if(GroupRead){ # checked # } } else {# disabled # } #></input><input type="hidden" name="SNo4" value="#= SNo4 #" /><input type="hidden" id="chkRead_previous" value="#= GroupRead #" />',
                                sortable: false,
                                celleditable: true,
                                defaulteditable: false,
                                filterable: false,
                                groupable: true
                            }]
                        });
                    } if ($.browser.mozilla) { function CheckAllDocument(obj) { $(obj).change(function () { var self = $(this); if (self.attr('checked')) { self.closest('tr').next('tr').find(':checkbox.checkbox').attr('checked', true); } else { self.closest('tr').next('tr').find(':checkbox.checkbox').attr('checked', false); } }); }; } else { function CheckAllDocument(obj) { $(obj).click(function () { var self = $(this); if (self.attr('checked')) { self.closest('tr').next('tr').find(':checkbox.checkbox').attr('checked', true); } else { self.closest('tr').next('tr').find(':checkbox.checkbox').attr('checked', false); } }); }; } if ($.browser.mozilla) { function NestedCheckAll(obj) { $(obj).change(function () { var self = $(this); if (self.attr('checked')) { self.closest('table').closest('tr').find(':checkbox').attr('checked', true); } else { self.closest('table').closest('tr').find(':checkbox').attr('checked', false); } }); }; } else { function NestedCheckAll(obj) { $(obj).click(function () { var self = $(this); if (self.attr('checked')) { self.closest('table').closest('tr').find(':checkbox').attr('checked', true); } else { self.closest('table').closest('tr').find(':checkbox').attr('checked', false); } }); }; } if ($.browser.mozilla) { function CheckPermission(obj) { $(obj).change(function () { var self = $(this); if (self.attr('checked')) { self.closest('tr').find(':checkbox').attr('checked', true); } else { self.closest('tr').find(':checkbox').attr('checked', false); } }); }; } else { function CheckPermission(obj) { $(obj).click(function () { var self = $(this); if (self.attr('checked')) { self.closest('tr').find(':checkbox').attr('checked', true); } else { self.closest('tr').find(':checkbox').attr('checked', false); } }); }; }</script>-->
            </td>
        </tr>
    </table>
    <script type='text/javascript'>$(document).ready(function () { $('.k-hierarchy-cell').find('.k-icon.k-plus').bind('click', function (e) { $(this).closest('tr').each(function (index, element) { $(this).find("input[type='hidden'][name$='IsChildOpen']").val('true'); }); }); });</script>
    <div id='dvSubmit' style='display:none; background:#DAECF4;'>
        <input type='hidden' name='hdngroupSNo' id='hdngroupSNo' />
        <input type='hidden' name='hdnUserSNo' id='hdnUserSNo' />
    </div>

    <div id='dvDelete' style='display:none; background:#DAECF4;'>
        <input type='hidden' name='hdnPageSNo' id='hdnPageSNo' />
    </div>

    <div class='black_overlay' id='divPopUpBackground'></div>
    <input type='hidden' name='hdnUserAdd' id='hdnUserAdd' />
    <div id='light1' style='display:none;'>
        <table class='WebFormTable'>
            <tr>
                <td class='formActiontitle Background' id='tdUser'></td>
            </tr>
            <tr>
                <td class='formbuttonrow' id='tdSubmitUser'><button type='submit' value='SubmitUser' class='button' onclick='return AddUsers();' style='padding-bottom:2px !important;'>Save</button></td>
            </tr>
            <tr>
                <td style='border-bottom:1px solid #CCCCCC !important;'><div id='tblUser'></div></td>
            </tr>
            <tr>
                <td id='tdNotFound'></td>
            </tr>
        </table>
        <br />
    </div>
    <div id='light2' style='display:none;'>
        <table class='WebFormTable'>
            <tr>
                <td class='formActiontitle Background' id='tdGroup'></td>
            </tr>
            <tr>
                <td class='formbuttonrow' id='tdSubmitGroup'><button type='submit' value='SubmitGroup' class='button' onclick='return AddGroups();' style='padding-bottom:2px !important;'>Save</button></td>
            </tr>
            <tr>
                <td style='border-bottom:1px solid #CCCCCC !important;'><div id='tblGroup'></div></td>
            </tr>
            <tr>
                <td id='tdNotFoundGroup' style='border-bottom:1px solid #CCCCCC !important; display:none;'></td>
            </tr>
        </table>
        <br />


    </div>
</body>
</html>
